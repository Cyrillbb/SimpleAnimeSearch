(this["webpackJsonpanime-searcher"]=this["webpackJsonpanime-searcher"]||[]).push([[0],{25:function(e,t,a){e.exports=a(44)},30:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(13),o=a.n(i);a(30),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(10),c="https://kitsu.io/api/edge/anime?",s="&filter[text]=",u="&filter[id]=",d="&sort=ratingRank",m="&sort=popularityRank",f="&filter[status]=current&sort=popularityRank",p=12,v="&page[offset]=",g="https://kitsu.io/api/edge/categories?sort=-totalMediaCount&page[limit]=60&page[offset]=0",E="&fields[anime]=id,posterImage,titles,canonicalTitle,averageRating,popularityRank,ageRating,episodeCount,status,synopsis",y="filter[categories]=",h="&page[limit]="+p+E,_={method:"GET",headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}},b=function(e){var t=c+e+h;return function(e){e({type:"GET_ANIME",payload:{data:[],url:"",pending:!0}}),fetch(t,_).then((function(e){return e.json()})).then((function(a){return e({type:"GET_ANIME",payload:{data:a.data,url:t,pending:!1,offset:p}})}))}},I=function(e,t){return{type:"TOGGLE_FAVORITE",payload:{id:e,item:t}}},N=function(e){return function(t){t({type:"GET_TITLE",payload:{id:e,pending:!0,data:{}}}),fetch(c+u+e+E).then((function(e){return e.json()})).then((function(a){return t({type:"GET_TITLE",payload:{id:e,pending:!1,data:a.data[0]}})}))}},T={url:"",loadedData:[],penging:!0,pendingMore:!1,offset:0},B=a(4),O={favIds:[],favs:[]},S=[],k={title:{},pending:!0,id:""},A=Object(l.c)({results:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ANIME":return{url:t.payload.url,loadedData:t.payload.data,pending:t.payload.pending,offset:t.payload.offset};case"GET_MORE":return{url:t.payload.url,loadedData:e.loadedData.concat(t.payload.data),pendingMore:t.payload.pendingMore,offset:t.payload.offset};default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_FAVORITE":return-1===e.favIds.indexOf(t.payload.id)?{favIds:[].concat(Object(B.a)(e.favIds),[t.payload.id]),favs:[].concat(Object(B.a)(e.favs),[t.payload.item])}:{favIds:e.favIds.filter((function(e){return e!==t.payload.id})),favs:e.favs.filter((function(e){return e.id!==t.payload.id}))};case"GET_LOCAL_STR":return{favIds:t.payload.favIds,favs:t.payload.favs};default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":return t.payload;default:return e}},title:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TITLE":return{id:t.payload.id,pending:t.payload.pending,title:t.payload.data};default:return e}}}),j=a(2),C=a(22),R=a.n(C),w=a(23),G=a(6),M=a(9),x=function(e,t){var a;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout((function(){return e.apply(n,r)}),t)}},L=function(e,t){localStorage.setItem("ids",JSON.stringify(e)),localStorage.setItem("favs",JSON.stringify(t))};a(35);var F=Object(j.b)(null,(function(e){return{getPop:function(){return e(b(m))},getTop:function(){return e(b(d))},getAir:function(){return e(b(f))},getByName:function(t){return e(b(t))}}}))((function(e){return r.a.createElement("div",{className:"ButtonBar",id:"btnBar"},r.a.createElement("input",{type:"text",className:"ButtonBar__input",id:"search",placeholder:"anime search",onChange:x((function(){e.getByName(s+document.getElementById("search").value)}),1e3)}),r.a.createElement("button",{className:"ButtonBar__button",onClick:e.getPop},"Most Popular"),r.a.createElement("button",{className:"ButtonBar__button",onClick:e.getTop},"Top Rated"),r.a.createElement("button",{className:"ButtonBar__button",onClick:e.getAir},"Top Airing"))}));a(36);function D(e){return r.a.createElement("div",{className:"AnimeCard"},e.children)}a(37);var J=Object(j.b)((function(e){return{results:Object(B.a)(e.results.loadedData),url:e.results.url,favorites:Object(B.a)(e.favorites.favs),favIds:Object(B.a)(e.favorites.favIds),pending:e.results.pending,more:e.results.pendingMore,offset:e.results.offset}}),(function(e){return{getMoreRes:function(t,a){return e(function(e,t){return function(a){a({type:"GET_MORE",payload:{data:[],url:"",pendingMore:!0}}),fetch(e+v+t,_).then((function(e){return e.json()})).then((function(n){return a({type:"GET_MORE",payload:{data:n.data,url:e,pendingMore:!1,offset:t+p}})}))}}(t,a))},addFav:function(t,a){return e(I(t,a))},getTit:function(t){return e(N(t))}}}))((function(e){return Object(n.useEffect)((function(){return L(e.favIds,e.favorites)})),r.a.createElement("div",{style:{backgroundColor:"#001f3f"}},r.a.createElement("div",{className:"AnimeList"},e.pending?r.a.createElement("div",{className:"loader",style:{margin:"auto",marginTop:"150px"}}):e.results.map((function(t){return r.a.createElement(D,{key:t.id,id:t.id},r.a.createElement("h3",{className:"AnimeCard__h3"},-1===e.favIds.indexOf(t.id)?r.a.createElement("i",{className:"far fa-star",style:{color:"yellow"},onClick:function(){e.addFav(t.id,t)}}):r.a.createElement("i",{className:"fas fa-star",style:{color:"yellow"},onClick:function(){e.addFav(t.id,t)}}),t.attributes.canonicalTitle),r.a.createElement(G.b,{to:"/SimpleAnimeSearch/"+t.id},r.a.createElement("img",{className:"img",onClick:function(){return e.getTit(t.id)},src:t.attributes.posterImage.medium,alt:""})))}))),e.more?r.a.createElement("div",{className:"loader",style:{margin:"auto"}}):r.a.createElement("button",{className:"AnimeList__btn",style:{marginTop:"150px"},onClick:function(){e.getMoreRes(e.url,e.offset)}},"Show More"))}));a(39);var P=Object(j.b)((function(e){return{favorites:Object(B.a)(e.favorites.favs),favIds:Object(B.a)(e.favorites.favIds)}}),(function(e){return{toggleFav:function(t){return e(I(t))},getTit:function(t){return e(N(t))}}}))((function(e){return Object(n.useEffect)((function(){return L(e.favIds,e.favorites)})),r.a.createElement("div",{className:"Favs"},e.favorites.map((function(t){return r.a.createElement("div",{className:"Favs__card",key:t.id},r.a.createElement("i",{className:"fas fa-star",style:{color:"yellow"},onClick:function(){e.toggleFav(t.id,t)}}),r.a.createElement(G.b,{className:"Favs__card__link",to:"/SimpleAnimeSearch/"+t.id},r.a.createElement("h3",{className:"cardH",onClick:function(){return e.getTit(t.id)}},t.attributes.canonicalTitle)))})))}));a(40);var H=Object(j.b)(null,(function(e){return{getPop:function(){return e(b(m))},getLcStr:function(){return e({type:"GET_LOCAL_STR",payload:{favIds:JSON.parse(localStorage.getItem("ids")),favs:JSON.parse(localStorage.getItem("favs"))}})},getCat:function(){return e((function(e){fetch(g).then((function(e){return e.json()})).then((function(t){return e({type:"GET_CATEGORIES",payload:t.data})}))}))}}}))((function(e){return Object(n.useEffect)((function(){e.getPop(),e.getCat(),localStorage.getItem("ids")&&localStorage.getItem("favs")&&e.getLcStr()}),[e]),r.a.createElement("div",{className:"header"},r.a.createElement("h3",{className:"header__h3"},"Simple Anime Search",r.a.createElement("i",{className:"fas fa-bars",id:"bars",onClick:function(){"header__nav"!==document.getElementById("nav").className||document.getElementById("btnBar")?"header__nav--responsive"!==document.getElementById("nav").className||document.getElementById("btnBar")||(document.getElementById("nav").className="header__nav"):document.getElementById("nav").className="header__nav--responsive",document.getElementById("btnBar")&&"ButtonBar"===document.getElementById("btnBar").className?(document.getElementById("btnBar").className="ButtonBar--responsive",document.getElementById("nav").className="header__nav--responsive"):document.getElementById("btnBar")&&"ButtonBar--responsive"===document.getElementById("btnBar").className&&(document.getElementById("btnBar").className="ButtonBar",document.getElementById("nav").className="header__nav")}})),r.a.createElement("nav",{className:"header__nav",id:"nav"},r.a.createElement(G.b,{className:"header__nav__Link",to:"/SimpleAnimeSearch"},"Discover Anime"),r.a.createElement(G.b,{className:"header__nav__Link",to:"/SimpleAnimeSearch/categories"},"Browse popular categories"),r.a.createElement(G.b,{className:"header__nav__Link",to:"/SimpleAnimeSearch/favorites"},"Favorites")))}));a(41);var V=Object(j.b)((function(e){return{categ:e.categories}}),(function(e){return{search:function(t){return e(b(t))}}}))((function(e){return r.a.createElement("div",{className:"Cats"},e.categ.map((function(t){return r.a.createElement(G.b,{className:"Cats__link",key:t.id,to:"/SimpleAnimeSearch",onClick:function(){return e.search(y+t.attributes.title+m)}},t.attributes.title)})))}));a(42);var W=Object(j.b)((function(e){return{title:e.title.title,favorites:Object(B.a)(e.favorites.favs),favIds:Object(B.a)(e.favorites.favIds),pending:e.title.pending,titleId:e.title.id}}),(function(e){return{addFav:function(t,a){return e(I(t,a))},getTit:function(t){return e(N(t))}}}))((function(e){return Object(n.useEffect)((function(){return L(e.favIds,e.favorites)})),Object(n.useEffect)((function(){if(!e.titleId){var t=window.location.pathname.split("/").pop();e.getTit(t)}}),[e]),r.a.createElement("div",{className:"TitleBox"},e.pending?r.a.createElement("div",{className:"loader",style:{margin:"auto",marginTop:"150px"}}):r.a.createElement("div",{className:"TitleBox__info"},r.a.createElement("img",{className:"TitleBox__info__img",src:e.title.attributes.posterImage.medium,alt:""}),r.a.createElement("div",{className:"TitleBox__info__text"},r.a.createElement("h3",{className:"cardH"},-1===e.favIds.indexOf(e.title.id)?r.a.createElement("i",{className:"far fa-star",style:{color:"yellow"},onClick:function(){e.addFav(e.title.id,e.title)}}):r.a.createElement("i",{className:"fas fa-star",style:{color:"yellow"},onClick:function(){e.addFav(e.title.id,e.title)}}),e.title.attributes.canonicalTitle),r.a.createElement("p",null,"Avrage Rating: ",e.title.attributes.averageRating),r.a.createElement("p",null,"Popularity rank: ",e.title.attributes.popularityRank),r.a.createElement("p",null,"Age rating: ",e.title.attributes.ageRating),r.a.createElement("p",null,"Number of episodes: ",e.title.attributes.episodeCount),r.a.createElement("p",null,"Status: ",e.title.attributes.status),r.a.createElement("p",{className:"descHide",id:e.title.id+"desc"},"Synopsis:"),r.a.createElement("p",null,e.title.attributes.synopsis))))}));a(43);var $=Object(j.b)((function(e){return{titleId:e.title.id}}),null)((function(e){return r.a.createElement("div",{className:"main"},r.a.createElement(G.a,null,r.a.createElement(H,null),r.a.createElement(M.c,null,r.a.createElement(M.a,{exact:!0,path:"/SimpleAnimeSearch"},r.a.createElement(F,null),r.a.createElement(J,null)),r.a.createElement(M.a,{exact:!0,path:"/SimpleAnimeSearch/favorites"},r.a.createElement(P,null)),r.a.createElement(M.a,{exact:!0,path:"/SimpleAnimeSearch/categories"},r.a.createElement(V,null)),r.a.createElement(M.a,{path:"/SimpleAnimeSearch/"+e.titleId},r.a.createElement(W,null)))))})),q=Object(l.d)(A,Object(l.a)(R.a,w.a));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j.a,{store:q},r.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.190aab5d.chunk.js.map