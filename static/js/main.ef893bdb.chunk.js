(this["webpackJsonpanime-searcher"]=this["webpackJsonpanime-searcher"]||[]).push([[0],{29:function(e,t,a){e.exports=a(49)},34:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),l=a.n(i);a(34),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(11),o=a(10),s=a.n(o),u=a(15),d="https://kitsu.io/api/edge/anime?",f="&filter[text]=",m="&filter[id]=",p="&sort=ratingRank",v="&sort=popularityRank",g="&filter[status]=current&sort=popularityRank",E=12,h="&page[offset]=",b="https://kitsu.io/api/edge/categories?sort=-totalMediaCount&page[limit]=60&page[offset]=0",y="&fields[anime]=id,posterImage,titles,canonicalTitle,averageRating,popularityRank,ageRating,episodeCount,status,synopsis",_="filter[categories]=",T=",youtubeVideoId",N="&page[limit]="+E+y,w={method:"GET",headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}},O=function(e){var t=d+e+N;return function(){var e=Object(u.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"GET_ANIME",payload:{data:[],url:"",pending:!0}}),e.prev=1,e.next=4,fetch(t,w);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,a({type:"GET_ANIME",payload:{data:r.data,url:t,pending:!1,offset:E}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},I=function(e,t){return{type:"TOGGLE_FAVORITE",payload:{id:e,item:t}}},x=function(e){return function(){var t=Object(u.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"GET_TITLE",payload:{id:e,pending:!0,data:{}}}),t.prev=1,t.next=4,fetch(d+m+e+y+T,w);case 4:return n=t.sent,t.next=7,n.json();case 7:r=t.sent,a({type:"GET_TITLE",payload:{id:e,pending:!1,data:r.data[0]}}),t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(1),new Error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},k={url:"",loadedData:[],pending:!0,pendingMore:!1,offset:0},S=a(5),j={favIds:[],favs:[]},C=[],A={title:{},pending:!0,id:""},R=Object(c.c)({results:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ANIME":return{url:t.payload.url,loadedData:t.payload.data,pending:t.payload.pending,offset:t.payload.offset};case"GET_MORE":return{url:t.payload.url,loadedData:e.loadedData.concat(t.payload.data),pendingMore:t.payload.pendingMore,offset:t.payload.offset};default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_FAVORITE":return-1===e.favIds.indexOf(t.payload.id)?{favIds:[].concat(Object(S.a)(e.favIds),[t.payload.id]),favs:[].concat(Object(S.a)(e.favs),[t.payload.item])}:{favIds:e.favIds.filter((function(e){return e!==t.payload.id})),favs:e.favs.filter((function(e){return e.id!==t.payload.id}))};case"GET_LOCAL_STR":return{favIds:t.payload.favIds,favs:t.payload.favs};default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":return t.payload;default:return e}},title:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TITLE":return{id:t.payload.id,pending:t.payload.pending,title:t.payload.data};default:return e}}}),B=a(3),G=a(26),M=a.n(G),L=a(27),F=a(8),D=a(2),J=function(e,t){var a;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout((function(){return e.apply(n,r)}),t)}},P=function(e,t){e.length>0?(localStorage.setItem("ids",JSON.stringify(e)),localStorage.setItem("favs",JSON.stringify(t))):localStorage.clear()};a(40);var V=Object(B.b)(null,(function(e){return{getPop:function(){return e(O(v))},getTop:function(){return e(O(p))},getAir:function(){return e(O(g))},getByName:function(t){return e(O(t))}}}))((function(e){return r.a.createElement("div",{className:"ButtonBar",id:"btnBar"},r.a.createElement("input",{type:"text",className:"ButtonBar__input",id:"search",placeholder:"anime search",onChange:J((function(){e.getByName(f+document.getElementById("search").value)}),1e3)}),r.a.createElement("button",{className:"ButtonBar__button",onClick:e.getPop},"Most Popular"),r.a.createElement("button",{className:"ButtonBar__button",onClick:e.getTop},"Top Rated"),r.a.createElement("button",{className:"ButtonBar__button",onClick:e.getAir},"Top Airing"))}));a(41);function H(e){return r.a.createElement("div",{className:"AnimeCard"},e.children)}a(42);var W=Object(B.b)((function(e){return{results:Object(S.a)(e.results.loadedData),url:e.results.url,favorites:Object(S.a)(e.favorites.favs),favIds:Object(S.a)(e.favorites.favIds),pending:e.results.pending,more:e.results.pendingMore,offset:e.results.offset}}),(function(e){return{getMoreRes:function(t,a){return e(function(e,t){return function(){var a=Object(u.a)(s.a.mark((function a(n){var r,i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"GET_MORE",payload:{data:[],url:"",pendingMore:!0}}),a.prev=1,a.next=4,fetch(e+h+t,w);case 4:return r=a.sent,a.next=7,r.json();case 7:i=a.sent,n({type:"GET_MORE",payload:{data:i.data,url:e,pendingMore:!1,offset:t+E}}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),console.error(a.t0);case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))},addFav:function(t,a){return e(I(t,a))},getTit:function(t){return e(x(t))}}}))((function(e){return Object(n.useEffect)((function(){return P(e.favIds,e.favorites)})),r.a.createElement("div",{style:{backgroundColor:"#001f3f"}},r.a.createElement("div",{className:"AnimeList"},e.pending?r.a.createElement("div",{className:"loader",style:{margin:"auto",marginTop:"150px"}}):e.results.map((function(t){return r.a.createElement(H,{key:t.id,id:t.id},r.a.createElement("h3",{className:"AnimeCard__h3"},-1===e.favIds.indexOf(t.id)?r.a.createElement("i",{className:"far fa-star",style:{color:"yellow"},onClick:function(){e.addFav(t.id,t)}}):r.a.createElement("i",{className:"fas fa-star",style:{color:"yellow"},onClick:function(){e.addFav(t.id,t)}}),t.attributes.canonicalTitle),r.a.createElement(F.b,{to:"/SimpleAnimeSearch/"+t.id},r.a.createElement("img",{className:"img",onClick:function(){return e.getTit(t.id)},src:t.attributes.posterImage.medium,alt:""})))}))),e.more?r.a.createElement("div",{className:"loader",style:{margin:"auto"}}):r.a.createElement("button",{className:"AnimeList__btn",style:{marginTop:"150px"},onClick:function(){e.getMoreRes(e.url,e.offset)}},"Show More"))}));a(44);var $=Object(B.b)((function(e){return{favorites:Object(S.a)(e.favorites.favs),favIds:Object(S.a)(e.favorites.favIds)}}),(function(e){return{toggleFav:function(t){return e(I(t))},getTit:function(t){return e(x(t))}}}))((function(e){return Object(n.useEffect)((function(){return P(e.favIds,e.favorites)})),r.a.createElement("div",{className:"Favs"},r.a.createElement("table",{style:{borderCollapse:"collapse",border:"solid 1px white"}},r.a.createElement("tbody",null,r.a.createElement("tr",{style:{border:"solid 1px white"}},r.a.createElement("td",{style:{border:"solid 1px white"}},"Remove"),r.a.createElement("td",{style:{border:"solid 1px white"}},"Title"),r.a.createElement("td",{style:{border:"solid 1px white"}},"Rating")),e.favorites.map((function(t){return r.a.createElement("tr",{key:t.id,style:{border:"solid 1px white"}},r.a.createElement("td",{style:{border:"solid 1px white",width:"5vw"}},r.a.createElement("i",{className:"fas fa-star",style:{color:"yellow"},onClick:function(){e.toggleFav(t.id,t)}})),r.a.createElement("td",{style:{border:"solid 1px white",width:"50vw"}},r.a.createElement(F.b,{className:"Favs__card__link",to:"/SimpleAnimeSearch/"+t.id},r.a.createElement("h3",{className:"cardH",onClick:function(){return e.getTit(t.id)}},t.attributes.canonicalTitle))),r.a.createElement("td",{style:{border:"solid 1px white",width:"5vw"}},t.attributes.averageRating))})))))}));a(45);var q=Object(B.b)(null,(function(e){return{getPop:function(){return e(O(v))},getLcStr:function(){return e({type:"GET_LOCAL_STR",payload:{favIds:JSON.parse(localStorage.getItem("ids")),favs:JSON.parse(localStorage.getItem("favs"))}})},getCat:function(){return e(function(){var e=Object(u.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(b,w);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,t({type:"GET_CATEGORIES",payload:n.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){Object(n.useEffect)((function(){e.getPop(),e.getCat(),localStorage.getItem("ids")&&localStorage.getItem("favs")&&e.getLcStr()}),[e]);var t=Object(n.useRef)(null);return r.a.createElement("div",{className:"header"},r.a.createElement("h3",{className:"header__h3"},"Simple Anime Search",r.a.createElement("i",{className:"fas fa-bars",id:"bars",onClick:function(){"header__nav"===t.current.className?t.current.className="header__nav--responsive":"header__nav--responsive"===t.current.className&&(t.current.className="header__nav")}})),r.a.createElement("nav",{className:"header__nav",id:"nav",ref:t},r.a.createElement(F.b,{className:"header__nav__Link",to:"/SimpleAnimeSearch"},"Discover Anime"),r.a.createElement(F.b,{className:"header__nav__Link",to:"/SimpleAnimeSearch/categories"},"Browse popular categories"),r.a.createElement(F.b,{className:"header__nav__Link",to:"/SimpleAnimeSearch/favorites"},"Favorites")))}));a(46);var z=Object(B.b)((function(e){return{categ:e.categories}}),(function(e){return{search:function(t){return e(O(t))}}}))((function(e){return r.a.createElement("div",{className:"Cats"},e.categ.map((function(t){return r.a.createElement(F.b,{className:"Cats__link",key:t.id,to:"/SimpleAnimeSearch",onClick:function(){return e.search(_+t.attributes.title+v)}},t.attributes.title)})))})),K=a(28);a(47);var Q=Object(B.b)((function(e){return{title:e.title.title,favorites:Object(S.a)(e.favorites.favs),favIds:Object(S.a)(e.favorites.favIds),pending:e.title.pending,titleId:e.title.id}}),(function(e){return{addFav:function(t,a){return e(I(t,a))},getTit:function(t){return e(x(t))}}}))((function(e){var t=Object(n.useState)(!1),a=Object(K.a)(t,2),i=a[0],l=a[1];return Object(n.useEffect)((function(){return P(e.favIds,e.favorites)})),Object(n.useEffect)((function(){if(!e.titleId){var t=window.location.pathname.split("/").pop();e.getTit(t)}}),[e]),r.a.createElement("div",{className:"TitleBox"},e.pending?r.a.createElement("div",{className:"loader",style:{margin:"auto",marginTop:"150px"}}):r.a.createElement("div",{className:"TitleBox__info"},r.a.createElement("img",{className:"TitleBox__info__img",src:e.title.attributes.posterImage.medium,alt:""}),r.a.createElement("div",{className:"TitleBox__info__text"},r.a.createElement("h3",{className:"cardH"},-1===e.favIds.indexOf(e.title.id)?r.a.createElement("i",{className:"far fa-star",style:{color:"yellow"},onClick:function(){e.addFav(e.title.id,e.title)}}):r.a.createElement("i",{className:"fas fa-star",style:{color:"yellow"},onClick:function(){e.addFav(e.title.id,e.title)}}),e.title.attributes.canonicalTitle),r.a.createElement("p",null,"Avrage Rating: ",e.title.attributes.averageRating),r.a.createElement("p",null,"Popularity rank: ",e.title.attributes.popularityRank),r.a.createElement("p",null,"Age rating: ",e.title.attributes.ageRating),r.a.createElement("p",null,"Number of episodes: ",e.title.attributes.episodeCount),r.a.createElement("p",null,"Status: ",e.title.attributes.status),r.a.createElement("p",{className:"descHide",id:e.title.id+"desc"},"Synopsis:"),r.a.createElement("p",null,e.title.attributes.synopsis),r.a.createElement("button",{className:"TitleBox__vidBtn",onClick:function(){l(!0)}},"Watch trailer")),i?r.a.createElement("div",{id:"watchBox",className:"TitleBox__vidContainer--watch",onClick:function(){l(!1)}},r.a.createElement("iframe",{title:"trailer",src:"https://www.youtube.com/embed/"+e.title.attributes.youtubeVideoId}),r.a.createElement("i",{className:"fas fa-times"})):r.a.createElement("div",null)))}));a(48);var U=Object(B.b)((function(e){return{titleId:e.title.id}}),null)((function(e){return r.a.createElement("div",{className:"main"},r.a.createElement(F.a,null,r.a.createElement(q,null),r.a.createElement(D.c,null,r.a.createElement(D.a,{exact:!0,path:"/SimpleAnimeSearch"},r.a.createElement(V,null),r.a.createElement(W,null)),r.a.createElement(D.a,{exact:!0,path:"/SimpleAnimeSearch/favorites"},r.a.createElement($,null)),r.a.createElement(D.a,{exact:!0,path:"/SimpleAnimeSearch/categories"},r.a.createElement(z,null)),r.a.createElement(D.a,{path:"/SimpleAnimeSearch/"+e.titleId},r.a.createElement(Q,null)))))})),X=Object(c.d)(R,Object(c.a)(M.a,L.a));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B.a,{store:X},r.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.ef893bdb.chunk.js.map